# 2020-05-02_FirefoxにてGoogleMapの動作が重い時の対処法
<!-- date:2020-05-02 19:06:11 -->

## はじめに
心機一転macOSをクリーンインストールした。ここ最近MacProの調子が悪く、再起動もシャットダウンも正常に行うことができなくなっていたためだ。

環境構築も無事に終わりふとFirefoxでGoogleMapを使用して見たところ、とてつもなく動作が遅くなっていた。
地図をドラッグしてから３秒後くらいにカクッ、カクッとスクロールする。とても使えたものではない。

私の使用マシンはMacPro Early 2009となかなかに古く、そのせいかな？とも一瞬考えたがSafariやChromeでは特に問題はなかった。だが個人的宗教によりこれらのブラウザは使用したくないのだった。

## 対応など
結果的にはGoogle Mapを2Dモードで使用するということだった。
という事はGoogle Mapのデフォルトは3Dモードなのかな？

試しにFirefoxのアドレスバーに `about:config` と入力し、 `layers.acceleration.draw-fps` を `true` にしてみる。すると思いっきり `GPU: N/A` となっていた。これはつまりハードウェアアクセラレーションも効いていないみたい？

そんな訳でまずはGoogleのヘルプセンターを調べてみると以下のページに3Dと2Dを切り替えできることがわかる。

 (ウェブ上で利用できる、その他のバージョンの Google マップ)[https://support.google.com/maps/answer/3031966?hl=ja] 

 2Dモードで開くにはURLの末尾に `?force=canvas` を付ければ良いとのこと。
 逆に言うと付けないと3Dモードになってしまう。面倒・・・

そこでもう一度Firefoxの `about:config` を表示し、`webgl.disabled` の値を `false` にしてみる。

これでGoogle Mapにアクセスすると自動的に2Dモードで表示されるようになった。

まだまだ頑張るMacPro 2009！
 